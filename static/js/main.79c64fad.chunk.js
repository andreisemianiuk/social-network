(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,t,s){e.exports={container:"DialogsMember_container__3bGLa",active:"DialogsMember_active__1oak8",sendIcon:"DialogsMember_sendIcon__3Q2S4",sendMessageBtn:"DialogsMember_sendMessageBtn__tjJnW"}},13:function(e,t,s){e.exports={wrapper:"Posts_wrapper__18WPk",textarea:"Posts_textarea__FkgS4",error:"Posts_error__2I3I9",btn:"Posts_btn__2MIt5"}},15:function(e,t,s){e.exports={header:"Header_header__mZppd",img:"Header_img__3InKy",logo:"Header_logo__2A24t"}},20:function(e,t,s){e.exports={container:"Profile_container__1YcLA",image:"Profile_image__3LJ4V"}},21:function(e,t,s){e.exports={container:"DialogsPage_container__6o8sK"}},26:function(e,t,s){e.exports={content:"Content_content__35dJN"}},31:function(e,t,s){},35:function(e,t,s){},4:function(e,t,s){e.exports={nav:"Sidebar_nav__1efGX",link:"Sidebar_link__1sn_N",friends:"Sidebar_friends__slXCW",active:"Sidebar_active__b65kt",friendsWrapper:"Sidebar_friendsWrapper__2rEfX",friend:"Sidebar_friend__17mIv",img:"Sidebar_img__1g1_2",name:"Sidebar_name__1Fdd_"}},41:function(e,t,s){"use strict";s.r(t),s.d(t,"rerenderEntireTree",(function(){return Y}));var a=s(0),n=s(1),i=(s(31),s(24)),c=s.n(i),r=(s(35),s(4)),o=s.n(r),d=s(6),l=function(e){return"".concat(e,"_").concat((new Date).getTime())},j="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHE4vcD6O1-GAxEU2CDLEQlD140pQI94q5qA&usqp=CAU",b=function(e){return Object(a.jsxs)("nav",{className:o.a.nav,children:[Object(a.jsx)("div",{className:o.a.link,children:Object(a.jsx)(d.b,{to:"/profile",activeClassName:o.a.active,children:"Profile"})}),Object(a.jsx)("div",{className:o.a.link,children:Object(a.jsx)(d.b,{to:"/dialogs",activeClassName:o.a.active,children:"Dialogs"})}),Object(a.jsx)("div",{className:"".concat(o.a.link," ").concat(o.a.friends),children:Object(a.jsx)(d.b,{to:"/friends",activeClassName:o.a.active,children:"Friends"})}),Object(a.jsx)("div",{className:o.a.friendsWrapper,children:e.friends.map((function(e){return Object(a.jsxs)("div",{className:o.a.friend,children:[Object(a.jsx)("img",{className:o.a.img,src:j,alt:"ava"}),Object(a.jsx)("div",{className:o.a.name,children:e})]},l(e))}))})]})},_=s(15),u=s.n(_),m=function(){return Object(a.jsxs)("header",{className:u.a.header,children:[Object(a.jsx)(d.b,{to:"/profile",children:Object(a.jsx)("img",{className:u.a.img,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Pahonia_-_%D0%9F%D0%B0%D0%B3%D0%BE%D0%BD%D1%8F%2C_Grand_Duchy_of_Lithuania_COA_%281575%29_cut.png/200px-Pahonia_-_%D0%9F%D0%B0%D0%B3%D0%BE%D0%BD%D1%8F%2C_Grand_Duchy_of_Lithuania_COA_%281575%29_cut.png",alt:"pogonya"})}),Object(a.jsx)("div",{className:u.a.logo,children:"This is my Social Network"})]})},h=s(26),p=s.n(h),g=s(2),x=s(8),O=s(13),f=s.n(O),v=s(9),k=s.n(v),N=function(e){var t=e.name,s=e.message,n=e.likes,i=e.dislikes;return Object(a.jsxs)("div",{className:k.a.post,children:[Object(a.jsxs)("div",{className:k.a.desk,children:[Object(a.jsx)("img",{className:k.a.img,src:j,alt:"avatar"}),Object(a.jsx)("div",{children:t})]}),Object(a.jsx)("div",{className:k.a.message,children:s}),Object(a.jsxs)("div",{className:k.a.likes,children:[Object(a.jsxs)("span",{children:["Likes: ",n]}),Object(a.jsxs)("span",{children:["Dislikes: ",i]})]})]})},P=s(27),D=s(7),w=s(42),y=function(e){return{type:A,newText:e}},S="ADD_POST",T="CHANGE_POST_TEXT",C="SEND_DIALOG_MESSAGE",A="CHANGE_DIALOG_TEXT",E={_state:{dialogsPage:{newDialogText:"",dialogs:[{id:Object(w.a)(),name:"Andrey",messages:["hello","hey","bye"]},{id:Object(w.a)(),name:"Vika",messages:["how are you?","ok"]},{id:Object(w.a)(),name:"Gosha",messages:["what's up"]}]},profilePage:{newPostText:"",posts:[{id:Object(w.a)(),name:"Andrey",message:"hello",likes:20,dislikes:10},{id:Object(w.a)(),name:"Vera",message:"hello1",likes:10,dislikes:12},{id:Object(w.a)(),name:"Lesha",message:"hello2",likes:20,dislikes:20}]},sidebar:["Sveta","Kolya","Vasya"]},_getState:function(){return this._state},_callSubscriber:function(){console.log("state had changed")},subscribe:function(e){this._callSubscriber=e},dispatch:function(e){this._state.profilePage=M(this._state.profilePage,e),this._state.dialogsPage=function(e,t){switch(t.type){case C:var s=e.dialogs.find((function(e){return e.id===t.id}));return s&&s.messages.push(t.newText),e;case A:return Object(D.a)(Object(D.a)({},e),{},{newDialogText:t.newText});default:return e}}(this._state.dialogsPage,e),this._callSubscriber()}},M=function(e,t){switch(t.type){case S:var s={id:Object(w.a)(),name:"Somebody",message:e.newPostText,likes:Math.floor(100*Math.random()),dislikes:Math.floor(100*Math.random())};return Object(D.a)(Object(D.a)({},e),{},{posts:[].concat(Object(P.a)(e.posts),[s]),newPostText:""});case T:return Object(D.a)(Object(D.a)({},e),{},{newPostText:t.newText});default:return e}},G=function(){return{type:S}},B=function(e){return{type:T,newText:e}},I=function(e){var t=e.posts,s=e.message,i=e.dispatch,c=Object(n.useState)(""),r=Object(x.a)(c,2),o=r[0],d=r[1];return Object(a.jsxs)("div",{className:f.a.wrapper,children:[Object(a.jsx)("h1",{children:"My Posts"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{value:s,onChange:function(e){var t=e.currentTarget.value;t&&d(""),i(B(t))},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),s?(i(G()),i(B(""))):d("Required text"))},className:f.a.textarea}),o&&Object(a.jsx)("div",{className:f.a.error,children:o})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:f.a.btn,onClick:function(){s?(i(G()),i(B(""))):d("Required text")},children:"Add Post"})}),t.map((function(e){return Object(a.jsx)(N,{id:e.id,name:e.name,message:e.message,dislikes:e.dislikes,likes:e.likes},l(e.id))}))]})},q=s(20),L=s.n(q),F=function(e){return Object(a.jsxs)("div",{className:L.a.container,children:[Object(a.jsx)("img",{className:L.a.image,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKMz56oWkccv5EZrUvir0IqZUqHVeYty6pDQ&usqp=CAU",alt:"content"}),Object(a.jsx)(I,{posts:e.posts,message:e.message,dispatch:e.dispatch})]})},X=s(21),H=s.n(X),W=s(12),K=s.n(W),U=function(e){var t=Object(n.useState)(""),s=Object(x.a)(t,2),i=s[0],c=s[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{value:i,onChange:function(t){var s=t.currentTarget.value;c(s),e.dispatch(y(s))}}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:K.a.sendMessageBtn,onClick:function(){var t,s;e.dispatch((t=i,s=e.id,{type:C,newText:t,id:s})),c(""),e.dispatch(y(i))},children:"Send message"})})]})},J=function(e){var t=Object(n.useState)(!0),s=Object(x.a)(t,2),i=s[0],c=s[1];return Object(a.jsxs)("div",{className:K.a.container,children:[Object(a.jsx)(d.b,{activeClassName:K.a.active,onClick:function(){c(!i)},to:"/dialogs/".concat(e.id),children:Object(a.jsx)("div",{children:e.name})}),!i&&Object(a.jsxs)("div",{children:[e.messages.map((function(e){return Object(a.jsx)("div",{children:e})})),Object(a.jsx)(U,{id:e.id,dispatch:e.dispatch})]})]})},V=function(e){return Object(a.jsx)("div",{className:H.a.container,children:Object(a.jsx)("div",{className:H.a.members,children:e.dialogs.map((function(t){return Object(a.jsx)(J,{name:t.name,id:t.id,messages:t.messages,dispatch:e.dispatch},t.id)}))})})},Q=function(){return Object(a.jsx)("div",{children:"FriendsPage"})},R=function(e){return Object(a.jsxs)("div",{className:p.a.content,children:[Object(a.jsx)(g.a,{path:"/profile",render:function(){return Object(a.jsx)(F,{posts:e.state.profilePage.posts,message:e.state.profilePage.newPostText,dispatch:e.dispatch})}}),Object(a.jsx)(g.a,{path:"/dialogs",render:function(){return Object(a.jsx)(V,{dialogs:e.state.dialogsPage.dialogs,dispatch:e.dispatch})}}),Object(a.jsx)(g.a,{path:"/friends",render:function(){return Object(a.jsx)(Q,{})}})]})};var Z=function(e){return Object(a.jsx)(d.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(m,{}),Object(a.jsx)(b,{friends:e.state.sidebar}),Object(a.jsx)(R,{state:e.state,dispatch:e.dispatch})]})})},Y=function(){c.a.render(Object(a.jsx)(Z,{state:E._getState(),dispatch:E.dispatch.bind(E)}),document.getElementById("root"))};Y(),E.subscribe(Y)},9:function(e,t,s){e.exports={post:"Post_post__yOUgf",desk:"Post_desk__3GPcX",img:"Post_img__qsXPl",message:"Post_message__2stNB",likes:"Post_likes__jX3D8"}}},[[41,1,2]]]);
//# sourceMappingURL=main.79c64fad.chunk.js.map